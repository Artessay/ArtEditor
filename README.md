# Mini Editor 用户手册

## 基本介绍

Mini Editor是一款在命令行对文本进行轻松便捷地编辑的命令行编辑器，能够帮助您在命令行模式下启动文本编辑器对文本文档进行快速而有效的编辑。Mini Editor采用shell编程开发，不依赖其他任何现有的编辑器，您能够在只具备bash的情况下使用Mini Editor进行文本的阅读与编辑。与其他命令行编辑器相比，Mini Editor具有程序精简，功能齐全，高效易用，内存占用率低等特点，能够应用于众多特殊的应用场景。

## 环境配置

### 准备Linux类操作系统

* **Linux**用户：如果您使用的是Linux操作系统，那么您可以直接运行Mini Editor，理论上Mini Editor可以与任何版本的Linux操作系统兼容。如果您遇到了任何问题，欢迎及时与我们联系。
* **Windows**用户：如果您使用的是Windows操作系统，您可能需要通过安装WSL或者虚拟机才能支持Mini Editor的运行。WSL是由微软开发的适用于 Linux 的 Windows 子系统，目前支持Windows 10及以上版本的操作系统。关于WSL的使用可以参考官方的说明文档：https://docs.microsoft.com/zh-cn/windows/wsl/
* 其他操作系统用户：目前，Mini Editor仅支持在安装有bash命令行解释器的环境中运行。我们暂时还没有在Linux和Windows以外的操作系统中进行测试。如果您有任何好的想法或者意见可以与我们反馈。

### 添加环境变量（推荐）

如果您希望能够在系统中的任何地方方便的调用Mini Editor应用程序的话，那么我们非常建议您将Mini Editor程序所在目录添加到系统环境变量之中，这样可以使您使用Mini Editor更加方便。在Linux操作系统下，添加环境变量有如下几种方法：

1. **临时添加路径到目前的PATH**

   如果您只是想要临时修改环境变量体验一下的话，您可以采用这种方式添加环境变量。添加的方法为直接在命令行中输入 `PATH=<Mini Editor所在目录>:$PaTH` 即可。比如，如果您的Mini Editor程序是下载在/home/MiniEditor/ 目录下，那么您可以通过输入以下命令添加：

   ~~~bash
   PATH=/home/MiniEditor:$PATH
   ~~~

   需要注意的是，使用这种方法改变的环境变量只对当前会话有效。每当您登出或注销系统以后，PATH 设置就会失效。

2. **添加全局变量在/etc/profile文件中**
   使用管理员权限打开/etc/profile文件并在其中添加如下语句：

   ~~~bash
   export PATH="/home/MiniEditor:$PATH"
   ~~~


   这种方法可以使得该操作系统上所有用户的环境变量中都加入Mini Editor的环境变量，但需要您拥有管理员权限才可编辑。

3. **为当前用户永久修改PATH**
   打开当前用户主目录下的配置文件，比如在Ubuntu 22.04版本里的配置文件为~/.profile。修改其中的PATH行，将Mini Editor所在目录以类型的方式添加，便可以为当前用户永久修改环境路径.

## 使用方法

### 启动Mini Editor

在系统提示符号下输入minieditor.sh及文件名称后，Mini Editor便会打开相应的文件并进入Mini Editor全屏幕编辑画面。如果该文件不存在则会先自动创建一个空白的临时文件，保存后可以看到新创建的文本文件。例如下面这个例子：

~~~bash
$ ./minieditor.sh file
~~~

其中，\$为系统提示命令符，minieditor.sh的可执行程序位于当前目录下，file为您要编辑的文本文档的文件名称。如果minieditor.sh的可执行程序不在当前目录下的话，您需要改变该程序的引用目录。如果您已经将minieditor.sh文件所在路径添加到PATH的环境变量之中，那么您也可以直接输入`minieditor.sh file`正常运行使用Mini Editor。

这里有一点需要特别注意，就是您进入Mini Editor之后，首先将处于命令模式，您要切换到插入模式之后才能够输入文字。

### 命令模式介绍

命令模式作为用户启动Mini Editor之后默认进入的第一个模式，在这里您可以实现丰富的功能。

在命令模式下按一下字母 i , I, a, A, o, O, r 或者 R，就可以进入插入模式，这时候您就可以以插入的方式开始输入文字了。这里的命令**不区分大小写**。其中，按 i 或者 I 切换进入插入模式后，是从光标当前位置开始输入文字；按 a 或者 A 进入插入模式后，是从光标所在位置的下一个位置开始输入文字；按 o 或者 O 进入插入模式后，是插入新的一行，从行首开始输入文字。

此外，在Mini Editor之中，您可以在命令模式下通过键盘按下英文字母 h 、 j 、 k 、 l ，分别控制光标左、下、上、右移一格，以此逐步将光标移动到您所需要的位置。Mini editor同样支持替换文本的方式编辑文本，通过替换的方法编辑内容。您可以通过按下r或者R后进入替换功能，此时Mini Editor会将您的输入替换光标所到之处的字符，直到按下 ESC 键为止才退出回到正常的命令模式。相关内容整理如下表所示：

| 命令 | 解释                                       |
| ---- | ------------------------------------------ |
| i    | 从光标**当前位置**开始以插入的方式输入文字 |
| a    | 从光标**所在位置的下一个位置**开始输入文字 |
| o    | 在**文末插入新的一行**并从行首开始输入文字 |
| r    | 将输入**替换**光标所到处字符的方式输入文本 |
| h    | 控制光标从当前位置开始向**左**移动一格距离 |
| j    | 控制光标从当前位置开始向**下**移动一格距离 |
| k    | 控制光标从当前位置开始向**上**移动一格距离 |
| l    | 控制光标从当前位置开始向**右**移动一格距离 |



### 插入模式介绍

处于插入模式时您只能输入文字，此时您输入的任何内容都会作为文本以插入的方式直接添加到文档之中。只有当您按下`ESC`键后，才可退出插入模式并转到命令模式。在插入模式下，您可以正常编辑文本，如果需要删除当前光标所在位置的内容，您可以通过按下退格键实现。

| 命令 | 解释                     |
| ---- | ------------------------ |
| ESC  | 退出插入模式回到编辑模式 |
| 其他 | 正常文本编辑状态输入文字 |



### 底行模式介绍

在命令模式下，按下冒号键之后可以进入底行模式。在底行模式中，您可以输入相应的命令完成相关操作。底行模式中设计的操作主要与**文件的保存与退出**有关，目前，Mini Editor支持的底行模式命令如下：

| 命令 | 解释                          |
| ---- | ----------------------------- |
| :w   | **保存**当前文件              |
| :wq  | **保存并退出**Mini Editor     |
| :q   | **退出**Mini Editor           |
| :q!  | **不存盘强制退出**Mini Editor |
| :x   | 相当于 :wq 的功能             |



这里有一点需要注意的是，当您输入`:q`命令想要退出Mini Editor时，您应该确保您所有的编辑均已经进行了保存。否则Mini Editor会提示您“文件尚未保存，无法退出”。如果您在发生编辑后想要退出Mini Editor，您应该使用`:wq`或`:x`命令保存最新的编辑成果并退出，或者使用 `:q!`不保存文档强制退出编辑器。

### 用户界面介绍

启动Mini Editor之后，您将进入Mini Editor的主界面。在界面上方显示的是打开的等待编辑或查看的文档文本。您可以在命令模式下控制光标在文本上的移动，或是在插入模式下对这些文本的内容进行编辑。在界面下方的最后一行会显示当前Mini Editor所处在的模式，Mini Editor中光标所在的行号与列号的信息，您可以通过这些信息辅助您判断当前Mini Editor所处在的状态。如果您在使用过程中有发生了一些错误或进行了一些Mini Editor预期之外的行为，则在界面下方还会显示出相应的错误信息提示您应进行正确的操作。



## 联系我们

本项目由浙江大学学生邱日宏独立开发完成。如果您在使用过程中遇到了任何问题，或是对我们的项目有任何好的建议，您可以通过邮箱3200105842@zju.edu.cn与我们联系，非常感谢您对项目的支持与建议！
